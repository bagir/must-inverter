# Experimental Modbus Parser

Ð­Ñ‚Ð¾ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð²ÐµÑ‚ÐºÐ° Ñ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¼ Ð¿Ð°Ñ€ÑÐµÑ€Ð¾Ð¼ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ð° UPS, Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¼ Ð½Ð° Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ðµ Modbus-Ð¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ñ… Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð².

## ðŸŽ¯ Ð¦ÐµÐ»ÑŒ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°

ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€ÑÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ð¼Ð¸ Ð¸ Ð°Ð´Ñ€ÐµÑÐ°Ð¼Ð¸ Ð²Ð¼ÐµÑÑ‚Ð¾ ÑÐ²Ñ€Ð¸ÑÑ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ð¿Ð¾ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð°Ð¼. Ð­Ñ‚Ð¾ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ñ‚ÑŒ:

- âœ… Ð‘Ð¾Ð»ÐµÐµ Ñ‚Ð¾Ñ‡Ð½Ð¾Ðµ Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ð¾Ð»ÐµÐ¹ (Ð¾ÑˆÐ¸Ð±ÐºÐ¸, Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ, Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸)
- âœ… Ð‘Ð¾Ð»ÐµÐµ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ð¾Ðµ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ
- âœ… Ð›ÐµÐ³ÐºÑƒÑŽ Ñ€Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ

## ðŸ“‹ Ð§Ñ‚Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ð»Ð¾ÑÑŒ

### ÐÐ¾Ð²Ñ‹Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ `ups_modbus_parser.py`

Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚:
- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð² (`int16`, `uint16`, `version`, `accumulated_kwh`, Ð¸ Ñ‚.Ð´.)
- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° Ñ€Ð°Ð·Ð½Ñ‹Ñ… Ñ‡Ð°ÑÑ‚ÐµÐ¹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:
  - `convert_partArr6` - Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð½Ð²ÐµÑ€Ñ‚ÐµÑ€Ð° (Ð°Ð´Ñ€ÐµÑÐ° 25201+)
  - `convert_partArr3` - Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ñ€ÑÐ´Ð½Ð¾Ð³Ð¾ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° (Ð°Ð´Ñ€ÐµÑÐ° 15201+)
  - `convert_battery_status` - ÑÑ‚Ð°Ñ‚ÑƒÑ Ð±Ð°Ñ‚Ð°Ñ€ÐµÐ¸ (Ð°Ð´Ñ€ÐµÑÐ° 113+)
- ÐžÑÐ½Ð¾Ð²Ð½ÑƒÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ `parse_telemetry_modbus()`

### Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ð°Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

`UPSTelemetryModbus` Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ:
- `grid_voltage` - Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ ÑÐµÑ‚Ð¸
- `bus_voltage` - Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ ÑˆÐ¸Ð½Ñ‹
- `inverter_current`, `grid_current`, `load_current` - Ñ‚Ð¾ÐºÐ¸
- `inverter_power`, `grid_power` - Ð¼Ð¾Ñ‰Ð½Ð¾ÑÑ‚Ð¸
- `work_state` - ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹
- `error_message`, `warning_message` - ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…

## ðŸš€ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ÑÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€ÑÐµÑ€Ð°

#### Ð§ÐµÑ€ÐµÐ· ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð»:

```yaml
monitoring:
  interval: 30
  max_errors: 5
  use_modbus_parser: true  # Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Modbus Ð¿Ð°Ñ€ÑÐµÑ€
```

#### Ð§ÐµÑ€ÐµÐ· ÐºÐ¾Ð¼Ð°Ð½Ð´Ð½ÑƒÑŽ ÑÑ‚Ñ€Ð¾ÐºÑƒ:

```bash
python3 mustmon.py /dev/ttyUSB0 --use-modbus-parser
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

ÐŸÑ€Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ñ Modbus Ð¿Ð°Ñ€ÑÐµÑ€Ð¾Ð¼ Ð²Ñ‹ ÑƒÐ²Ð¸Ð´Ð¸Ñ‚Ðµ Ð² Ð»Ð¾Ð³Ð°Ñ…:
```
âœ… Using experimental Modbus parser
```

Ð•ÑÐ»Ð¸ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½:
```
âš ï¸  Modbus parser requested but not available. Using default parser.
```

## ðŸ” ÐšÐ°Ðº ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

### Ð¡Ñ‚Ð°Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ (legacy):
1. ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð±Ð°Ð¹Ñ‚Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð°
2. ÐŸÐ°Ñ€ÑÐ¸Ñ‚ ÐºÐ°Ðº 16-Ð±Ð¸Ñ‚Ð½Ñ‹Ðµ big-endian Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
3. Ð˜Ñ‰ÐµÑ‚ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð°Ð¼ (220-230V, 13-14V, Ð¸ Ñ‚.Ð´.)
4. ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ñ‚Ð¸Ð¿ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð¸ Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ñƒ

### ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ (Modbus):
1. ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð±Ð°Ð¹Ñ‚Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð°
2. ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÑ‚ Ð² ÑÐ»Ð¾Ð²Ð°Ñ€ÑŒ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð² Ñ Ð°Ð´Ñ€ÐµÑÐ°Ð¼Ð¸
3. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ð¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð°Ð´Ñ€ÐµÑÐ° Ð´Ð»Ñ Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð´Ð°Ð½Ð½Ñ‹Ñ…:
   - `25207` - GridVoltage (Ð²Ñ…Ð¾Ð´Ð½Ð¾Ðµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ)
   - `25206` - InverterVoltage (Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ðµ Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ)
   - `25205` - InverterBatteryVoltage (Ð½Ð°Ð¿Ñ€ÑÐ¶ÐµÐ½Ð¸Ðµ Ð±Ð°Ñ‚Ð°Ñ€ÐµÐ¸)
   - `25216` - LoadPercent (Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸)
   - Ð˜ Ñ‚.Ð´.
4. ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ñ

## ðŸ“Š Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ

| ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€ | Legacy Parser | Modbus Parser |
|----------|---------------|---------------|
| Ð¢Ð¾Ñ‡Ð½Ð¾ÑÑ‚ÑŒ | Ð—Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ ÑÐ²Ñ€Ð¸ÑÑ‚Ð¸ÐºÐ¸ | Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ (Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð°Ð´Ñ€ÐµÑÐ°) |
| Ð Ð°ÑÑˆÐ¸Ñ€ÑÐµÐ¼Ð¾ÑÑ‚ÑŒ | Ð¡Ð»Ð¾Ð¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»Ñ | Ð›ÐµÐ³ÐºÐ¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ñ‹ |
| ÐžÑˆÐ¸Ð±ÐºÐ¸/ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ñ | ÐÐµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ | ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ |
| Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸ | ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¾ | Ð¨Ð¸Ñ€Ð¾ÐºÐ¸Ð¹ Ð½Ð°Ð±Ð¾Ñ€ |
| ÐÐ°Ð´Ñ‘Ð¶Ð½Ð¾ÑÑ‚ÑŒ | ÐœÐ¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð½ÐµÑƒÑÑ‚Ð¾Ð¹Ñ‡Ð¸Ð²Ð° | Ð‘Ð¾Ð»ÐµÐµ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ð° |

## âš ï¸ Ð’Ð°Ð¶Ð½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ

1. **Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð°Ð´Ñ€ÐµÑÐ¾Ð²**: ÐÐ´Ñ€ÐµÑÐ° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð² (25201, 15201, Ð¸ Ñ‚.Ð´.) Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ñ‹ Ð½Ð° Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ð¾Ð¼ ÐºÐ¾Ð´Ðµ, Ð½Ð¾ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒÑÑ Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°. ÐÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¸Ñ… ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð»Ñƒ.

2. **Error codes**: Ð¡Ð¿Ð¸ÑÐºÐ¸ Ð¾ÑˆÐ¸Ð±Ð¾Ðº (`INVERTER_ERROR`, `CHARGER_ERROR`, Ð¸ Ñ‚.Ð´.) Ð¿Ð¾ÐºÐ° Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹ Ð·Ð°Ð³Ð»ÑƒÑˆÐºÐ°Ð¼Ð¸. ÐÑƒÐ¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð´Ñ‹ Ð¾ÑˆÐ¸Ð±Ð¾Ðº Ð¸Ð· Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ UPS.

3. **Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ**: ÐŸÐµÑ€ÐµÐ´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð² production Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð¿Ñ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¾Ð±Ð° Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð° Ð¸ ÑÑ€Ð°Ð²Ð½Ð¸Ñ‚Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹.

4. **Fallback**: Ð•ÑÐ»Ð¸ Modbus Ð¿Ð°Ñ€ÑÐµÑ€ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ñ€Ð°ÑÐ¿Ð°Ñ€ÑÐ¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¾Ñ‚ÐºÐ°Ñ‚ Ðº legacy Ð¿Ð°Ñ€ÑÐµÑ€Ñƒ.

## ðŸ”§ ÐžÑ‚Ð»Ð°Ð´ÐºÐ°

### Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:

```yaml
logging:
  level: DEBUG
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ, ÐºÐ°ÐºÐ¾Ð¹ Ð¿Ð°Ñ€ÑÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ:

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
tail -f /tmp/ups_web_daemon.log | grep -i parser

# Ð˜Ð»Ð¸ Ñ‡ÐµÑ€ÐµÐ· API
curl http://localhost:8080/api/telemetry | jq
```

### Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹:

Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¾Ð±Ð° Ð¿Ð°Ñ€ÑÐµÑ€Ð° Ð¸ ÑÑ€Ð°Ð²Ð½Ð¸Ñ‚Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ:

```bash
# Legacy Ð¿Ð°Ñ€ÑÐµÑ€
python3 mustmon.py /dev/ttyUSB0 > legacy.log 2>&1 &

# Modbus Ð¿Ð°Ñ€ÑÐµÑ€
python3 mustmon.py /dev/ttyUSB0 --use-modbus-parser > modbus.log 2>&1 &

# Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ
diff <(grep "Ð¢ÐµÐ»ÐµÐ¼ÐµÑ‚Ñ€Ð¸Ñ" legacy.log) <(grep "Ð¢ÐµÐ»ÐµÐ¼ÐµÑ‚Ñ€Ð¸Ñ" modbus.log)
```

## ðŸ“ TODO

- [ ] Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ error codes
- [ ] ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð°Ð´Ñ€ÐµÑÐ¾Ð² Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ñƒ
- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ‡Ð°ÑÑ‚ÐµÐ¹ Ð´Ð°Ð½Ð½Ñ‹Ñ… (partArr2, partArr4, partArr5)
- [ ] ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð¿Ð°Ñ€ÑÐµÑ€Ð°
- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÑŽ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ unit-Ñ‚ÐµÑÑ‚Ñ‹

## ðŸ¤ Ð’ÐºÐ»Ð°Ð´

Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð·Ð½Ð°ÐµÑ‚Ðµ Ñ‚Ð¾Ñ‡Ð½Ñ‹Ðµ Ð°Ð´Ñ€ÐµÑÐ° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¾Ð² Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ð¸Ð»Ð¸ ÐºÐ¾Ð´Ñ‹ Ð¾ÑˆÐ¸Ð±Ð¾Ðº, Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÐµÑÑŒ ÑÑ‚Ð¾Ð¹ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÐµÐ¹ Ð´Ð»Ñ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ Ð¿Ð°Ñ€ÑÐµÑ€Ð°!
